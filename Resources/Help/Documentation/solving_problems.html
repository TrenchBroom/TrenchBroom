<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>TrenchBroom Help - Working With Textures</title>
	<link rel="StyleSheet" href="css/style.css" type="text/css" media="screen" />
	<meta name="author" content="Kristian Duske">
</head>
<body>
	<script src="scripts/commands.js"></script>
	<div id="container">
		<h2>Solving Problems</h2>
		<p></p>
		<h3>Leaks and Pointfiles</h3>
		<p>During mapping, you may inadvertently leave holes that lead outside of the map into the void. These are known as leaks.  You will not be able to properly compile and vis your map until it is fully sealed from the void.</p>
		<p>Your QBSP tool already has some functionality built in that facilitates in finding leaks, but there is an editor side as well. When QBSP detects a leak, it generates a 'pointfile'.  This is a file with the .pts extension and provides a way for a map editor to communicate the QBSP tool's findings. In order to make use of this file, you must place it alongside the map file as it is loaded in Trenchbroom, so if you have a separate folder where you compile your maps, you will need to copy the .pts file back into the map folder. Once this is done, use the <b>Load Pointfile</b> command (<script>print_menu_command("file_load_pointfile");</script>) and Trenchbroom will draw a line which will help you find where the leak in your map is. You can use the <script>print_menu_command("view_camera_move_to_next_pt");</script> and <script>print_menu_command("view_camera_move_to_prev_pt");</script> commands to navigate the camera along the line.</p>
		<p>If you open the file menu again, you will notice that the <script>print_menu_command("file_load_pointfile");</script> command has been replaced with the <script>print_menu_command("file_reload_pointfile");</script> command. You can use this command to reload the pointfile after making changes to your map and recompiling.</p>
		<p>Once all leaks have been closed and you are done with the pointfile line, you can use the <b>Unload Pointfile</b> command (<script>print_menu_command("file_unload_pointfile");</script>) to stop displaying the line in the editor.</p>
		<h3>Dropped Brushes</h3>
		<p class="no-justify">When loading a map that was made in another editor, you may see this error: <span class="monospace_text">Skipping malformed brush at line #</span> where # is a line number in the map file. This means Trenchbroom was unable to parse a particular line in the map file and therefore skipped the brush entirely. Check the map file at the line in question to find out the brush number and then see if you can load the brush into another editor to be sure that it is correct.</p>
		<h3>Fixing Vertex Misalignments</h3>
		<p>During the course of editing, you may end up with vertices which are off the grid. Sometimes this will be intentional, where you disabled grid snap, and other times it could be a product of floating point imprecision on the part of the editor. Regardless, there will be times when you want to snap the vertices of a brush to the grid or in other words, the round off the vertex coordinates of a brush or multiple brushes.  Trenchbroom provides this functionality in two ways: <b>Correct Vertices</b> and <b>Snap Vertices</b>.</p>
		<ul>
		<li><b>Correct Vertices</b>
			<p>Accessible through the menu with: <script>print_menu_command("edit_actions_correct_verts");</script>, this command is aimed primarily at correcting floating point imprecisions. It will snap vertices to grid in the current selection if they are less than 0.002 units off.</p>
		</li>
		<li><b>Snap Vertices</b>
			<p>Accessible through the menu with: <script>print_menu_command("edit_actions_snap_verts");</script>, this command will snap vertices in the current selection to grid no matter their offsets.</p>
		</li>
		</ul>
		<p>Note that both these functions work with multiple brushes in the selection, but they are unavailable if entities are selected.</p>
	</div>
</body>
</html>
